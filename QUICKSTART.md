# ç±³å®¶è®¾å¤‡ç›‘æŽ§ç³»ç»Ÿ - å¿«é€Ÿå¼€å§‹æŒ‡å—

## ðŸŽ¯ 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### ç¬¬ä¸€æ­¥: å‡†å¤‡å·¥ä½œ

ç¡®ä¿ä½ çš„ç”µè„‘æ»¡è¶³ä»¥ä¸‹æ¡ä»¶:
- âœ… Windows 10/11 æ“ä½œç³»ç»Ÿ
- âœ… æœ‰å¯ç”¨çš„ç±³å®¶è´¦å·
- âœ… å·²å®‰è£…Python 3.9+ (å¦‚æžœä»Žæºç è¿è¡Œ)

### ç¬¬äºŒæ­¥: èŽ·å–ç¨‹åº

#### æ–¹å¼A: ä¸‹è½½å·²æ‰“åŒ…ç‰ˆæœ¬ (æŽ¨èæ–°æ‰‹)
1. å‰å¾€é¡¹ç›®çš„ Releases é¡µé¢
2. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ `MiMonitor-v1.0.0-windows.zip`
3. è§£åŽ‹åˆ°ä»»æ„ç›®å½•
4. è·³è½¬åˆ°**ç¬¬ä¸‰æ­¥**

#### æ–¹å¼B: ä»Žæºç è¿è¡Œ (æŽ¨èå¼€å‘è€…)

**Windows PowerShell/CMD:**

```powershell
# 1. å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®
git clone https://github.com/yourusername/mi-monitor.git
cd mi-monitor

# 2. ä¸€é”®å¯åŠ¨(ä¼šè‡ªåŠ¨åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒå¹¶å®‰è£…ä¾èµ–)
scripts\run_dev.bat
```

ç¨‹åºä¼šè‡ªåŠ¨:
- åˆ›å»ºPythonè™šæ‹ŸçŽ¯å¢ƒ
- å®‰è£…æ‰€æœ‰ä¾èµ–åŒ…
- å¯åŠ¨ç›‘æŽ§ç¨‹åº

### ç¬¬ä¸‰æ­¥: ç™»å½•ç±³å®¶è´¦å·

1. ç¨‹åºå¯åŠ¨åŽ,ç‚¹å‡» **"ç™»å½•ç±³å®¶"** æŒ‰é’®
2. é€‰æ‹© **"Yes"** ä½¿ç”¨äºŒç»´ç ç™»å½•(æŽ¨è)
3. åœ¨ç»ˆç«¯çª—å£ä¼šæ˜¾ç¤ºäºŒç»´ç ,æˆ–æŸ¥çœ‹ç”Ÿæˆçš„ `qr.png` æ–‡ä»¶
4. æ‰“å¼€ **ç±³å®¶APP** â†’ æ‰«æäºŒç»´ç 
5. ç™»å½•æˆåŠŸåŽä¼šè‡ªåŠ¨ä¿å­˜è®¤è¯ä¿¡æ¯

ðŸ’¡ **æç¤º**: äºŒç»´ç ç™»å½•æ¯”è´¦å·å¯†ç ç™»å½•æ›´å¿«æ·,ä¸”æ— éœ€æ‰‹æœºéªŒè¯ç 

### ç¬¬å››æ­¥: èŽ·å–è®¾å¤‡åˆ—è¡¨

1. ç‚¹å‡» **"åˆ·æ–°è®¾å¤‡"** æŒ‰é’®
2. ç¨ç­‰ç‰‡åˆ»,ç¨‹åºä¼šä»Žç±³å®¶äº‘ç«¯èŽ·å–æ‰€æœ‰è®¾å¤‡
3. è®¾å¤‡åˆ—è¡¨ä¼šæ˜¾ç¤ºåœ¨ä¸»ç•Œé¢

### ç¬¬äº”æ­¥: å¯åŠ¨ç›‘æŽ§

1. ç‚¹å‡» **"å¯åŠ¨ç›‘æŽ§"** æŒ‰é’®
2. ç›‘æŽ§å¼€å§‹è¿è¡Œ,è®¾å¤‡çŠ¶æ€ä¼šå®šæœŸæ›´æ–°
3. å¯ä»¥æœ€å°åŒ–çª—å£åˆ°ç³»ç»Ÿæ‰˜ç›˜,ç¨‹åºç»§ç»­åœ¨åŽå°è¿è¡Œ

**ðŸŽ‰ æ­å–œ! ä½ å·²ç»æˆåŠŸå¯åŠ¨äº†ç±³å®¶è®¾å¤‡ç›‘æŽ§ç³»ç»Ÿ!**

---

## ðŸ“ è¿›é˜¶é…ç½®

### è°ƒæ•´ç›‘æŽ§é—´éš”

ç¼–è¾‘ `config/config.yaml` æ–‡ä»¶:

```yaml
monitor:
  default_interval: 60  # å…¨å±€é»˜è®¤é—´éš”(ç§’)
  
  # ä¸åŒè®¾å¤‡ç±»åž‹çš„ç›‘æŽ§é—´éš”
  device_intervals:
    sensor: 300        # ä¼ æ„Ÿå™¨æ¯5åˆ†é’Ÿé‡‡é›†ä¸€æ¬¡
    light: 60          # ç¯å…·æ¯åˆ†é’Ÿé‡‡é›†ä¸€æ¬¡
    airconditioner: 180 # ç©ºè°ƒæ¯3åˆ†é’Ÿé‡‡é›†ä¸€æ¬¡
```

### è®¾ç½®æŠ¥è­¦è§„åˆ™

åœ¨ `config/config.yaml` ä¸­æ·»åŠ :

```yaml
alerts:
  enabled: true
  rules:
    - name: "å§å®¤æ¸©åº¦è¿‡é«˜"
      device_type: "sensor"
      property: "temperature"
      condition: ">"
      threshold: 30
      enabled: true
    
    - name: "æ¹¿åº¦è¿‡ä½Ž"
      device_type: "sensor"
      property: "relative-humidity"
      condition: "<"
      threshold: 30
      enabled: true
```

### è‡ªåŠ¨å¯åŠ¨ç›‘æŽ§

```yaml
monitor:
  auto_start: true  # ç¨‹åºå¯åŠ¨æ—¶è‡ªåŠ¨å¼€å§‹ç›‘æŽ§
```

### å¯åŠ¨æ—¶æœ€å°åŒ–

```yaml
ui:
  main_window:
    start_minimized: true  # å¯åŠ¨æ—¶è‡ªåŠ¨æœ€å°åŒ–åˆ°æ‰˜ç›˜
```

---

## â“ å¸¸è§é—®é¢˜é€ŸæŸ¥

### Q1: ç™»å½•åŽæç¤º"è®¤è¯å·²è¿‡æœŸ"?

**è§£å†³æ–¹æ³•**:
1. åˆ é™¤ `config/mijia_auth.json` æ–‡ä»¶
2. é‡æ–°ç™»å½•

### Q2: åˆ·æ–°è®¾å¤‡åˆ—è¡¨æ—¶æç¤ºå¤±è´¥?

**å¯èƒ½åŽŸå› **:
- ç½‘ç»œè¿žæŽ¥é—®é¢˜
- ç±³å®¶è´¦å·æœªç™»å½•
- è®¤è¯ä¿¡æ¯è¿‡æœŸ

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
2. é‡æ–°ç™»å½•ç±³å®¶è´¦å·
3. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ `logs/mi-monitor.log` èŽ·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

### Q3: å¦‚ä½•æŸ¥çœ‹æŸä¸ªè®¾å¤‡çš„åŽ†å²æ•°æ®?

å½“å‰ç‰ˆæœ¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹:
1. ä½¿ç”¨SQLiteå·¥å…·æ‰“å¼€ `data/monitor.db` æ•°æ®åº“
2. æŸ¥è¯¢ `device_properties` è¡¨

**SQLiteå‘½ä»¤ç¤ºä¾‹**:
```sql
-- æŸ¥çœ‹æŸè®¾å¤‡çš„æ¸©åº¦åŽ†å²
SELECT timestamp, property_value 
FROM device_properties 
WHERE did='è®¾å¤‡ID' AND property_name='temperature' 
ORDER BY timestamp DESC 
LIMIT 100;
```

### Q4: ç¨‹åºå ç”¨å†…å­˜å¤ªå¤š?

**ä¼˜åŒ–å»ºè®®**:
1. è°ƒæ•´æ•°æ®ä¿ç•™å¤©æ•°:
```yaml
database:
  retention_days: 7  # åªä¿ç•™7å¤©æ•°æ®
  auto_cleanup: true
```

2. å‡å°‘ç›‘æŽ§é¢‘çŽ‡:
```yaml
monitor:
  default_interval: 120  # æ”¹ä¸ºæ¯2åˆ†é’Ÿ
```

### Q5: å¦‚ä½•æ·»åŠ å¼€æœºè‡ªå¯åŠ¨?

**æ–¹æ³•1: ä½¿ç”¨Windowsä»»åŠ¡è®¡åˆ’ç¨‹åº**
1. æŒ‰ `Win+R`,è¾“å…¥ `taskschd.msc`
2. åˆ›å»ºåŸºæœ¬ä»»åŠ¡
3. è§¦å‘å™¨é€‰æ‹©"è®¡ç®—æœºå¯åŠ¨æ—¶"
4. æ“ä½œé€‰æ‹©å¯åŠ¨ç¨‹åº,æµè§ˆåˆ° `MiMonitor.exe`

**æ–¹æ³•2: æ·»åŠ åˆ°å¯åŠ¨æ–‡ä»¶å¤¹**
1. æŒ‰ `Win+R`,è¾“å…¥ `shell:startup`
2. åˆ›å»º `MiMonitor.exe` çš„å¿«æ·æ–¹å¼åˆ°è¯¥æ–‡ä»¶å¤¹

---

## ðŸ”§ ç»´æŠ¤å»ºè®®

### å®šæœŸæ¸…ç†æ•°æ®

è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¸…ç†è¿‡æœŸæ•°æ®(å¦‚æžœå¯ç”¨äº†è‡ªåŠ¨æ¸…ç†,åˆ™æ— éœ€æ‰‹åŠ¨æ“ä½œ):

```python
# åœ¨Pythonäº¤äº’çŽ¯å¢ƒä¸­
from src.core.database import DatabaseManager
db = DatabaseManager('data/monitor.db')
db.cleanup_old_data(30)  # æ¸…ç†30å¤©å‰çš„æ•°æ®
```

### å¤‡ä»½æ•°æ®åº“

å®šæœŸå¤‡ä»½ `data/monitor.db` æ–‡ä»¶,ä»¥é˜²æ•°æ®ä¸¢å¤±ã€‚

### æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—

æ—¥å¿—æ–‡ä»¶ä½äºŽ `logs/mi-monitor.log`,é‡åˆ°é—®é¢˜æ—¶å¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚

---

## ðŸ“ž èŽ·å–å¸®åŠ©

å¦‚æžœé‡åˆ°é—®é¢˜:

1. **æŸ¥çœ‹æ–‡æ¡£**: é˜…è¯»å®Œæ•´çš„ [README.md](README.md) å’Œ [DEVELOPMENT.md](DEVELOPMENT.md)
2. **æŸ¥çœ‹æ—¥å¿—**: æ£€æŸ¥ `logs/mi-monitor.log` æ–‡ä»¶
3. **æäº¤Issue**: åœ¨GitHubä¸Šæäº¤é—®é¢˜æŠ¥å‘Š
4. **è”ç³»æ”¯æŒ**: å‘é€é‚®ä»¶åˆ° your.email@example.com

---

## ðŸŽ“ ä¸‹ä¸€æ­¥

- ðŸ“Š æŽ¢ç´¢æ•°æ®å¯è§†åŒ–åŠŸèƒ½
- ðŸ”” é…ç½®æ›´å¤šæŠ¥è­¦è§„åˆ™
- ðŸ  æŒ‰æˆ¿é—´ç»„ç»‡è®¾å¤‡
- ðŸ“ˆ åˆ†æžè®¾å¤‡ä½¿ç”¨è¶‹åŠ¿
- ðŸ¤– ç»“åˆè‡ªåŠ¨åŒ–åœºæ™¯

**ç¥ä½ ä½¿ç”¨æ„‰å¿«! ðŸŽ‰**
